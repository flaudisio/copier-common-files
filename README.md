# Copier template for common repository files

[Copier](https://copier.readthedocs.io/en/stable/) template with common base files for repositories.

## Using

First, install [Copier](https://copier.readthedocs.io/en/stable/#installation).

> [!TIP]
>
> If you have [mise-en-place](https://mise.jdx.dev/getting-started.html) installed, you can run
> `mise use -g copier` to install Copier.

### Create a new project

To create a new project with this template, run:

```bash
copier copy https://github.com/flaudisio/copier-common-files.git /path/to/repo
```

### Update an existing repository

To update a repository to the latest template version, run:

```bash
cd /path/to/repo

copier update -a .copier-answers.common.yml
```

### Adopt an existing repository

To "adopt" an existing repository that has not been generated by this template, follow these steps:

1. Make sure the repository is updated:

    ```bash
    cd /path/to/repo
    git switch main
    git pull origin main
    ```

1. Make sure the working tree is clean to make it easier to fix undesired changes or even abort the
   update (if necessary):

    ```console
    $ git status
    On branch main
    Your branch is up to date with 'origin/main'.

    nothing to commit, working tree clean
    ```

1. Run the `copy` command against the repository directory:

    ```bash
    copier copy --overwrite https://github.com/flaudisio/copier-common-files.git /path/to/repo
    ```

   The `--overwrite` argument is optional. Answer the questions normally, as if you were generating
   a new repository.

1. Follow the instructions and tips from the post-copy tasks, such as double-checking the changes and
   updating any necessary files.

Done! Once the project is properly "adopted", it can be [updated](#update-an-existing-repository)
as any project generated by this template.

## License

[MIT](LICENSE).
